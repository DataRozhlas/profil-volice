<div class="b-data__bg" style="background-image: url('https://interaktivni.rozhlas.cz/brexit/media/cover.jpg');"><span class="b-data__caption">Foto <a href='#'>ČTK</a></span></div>
<header class="b-data__header">
<div class="row-main">
	<h1 class="b-data__title">
		<strong>XXX</strong>
	</h1>
	<p class="meta meta--lg">
	<!--[[ZPRAVY_SNOWFALL_AUTHORS:HEADER]]-->
	<span class="meta__separator">|</span>
	<time>15. května 2018</time>
	</p>	
	<p>
	<a href="#content" class="b-data__link js-scroll-to">
	Čtěte dále
	<span class="b-data__link-icon">
	<span class="icon-svg icon-svg--arrow-down">
	<svg class="icon-svg__svg" xmlns:xlink="http://www.w3.org/1999/xlink">
		<use xlink:href="/sites/all/themes/custom/irozhlas/img/bg/icons-svg.svg#icon-arrow-down" x="0" y="0" width="100%" height="100%"></use>
	</svg>
</span>
</span>
</a>
</p>
</div>
</header> 

<div class="b-data__content" id="content">
<script src="https://code.jquery.com/jquery-3.3.1.min.js"></script>
<script src="https://code.highcharts.com/highcharts.js"></script>
<script src="./opencpu.js"></script>

<style>li{background:none !important}hr{max-width:none !important}.test-big{padding:20px;border-radius:15px;background-color:#ccc;color:#000;text-align:center}.test-big h2{margin-bottom:20px}.test .otazka{padding:5px;margin:0;border-radius:10px;background-color:#eee}.test .progresbar{height:1px;width:0;background-color:#000;border-radius:5px}.test p{margin-top:10px;margin-bottom:0}.test h3{margin-top:5px;margin-bottom:20px}.test .buttons{padding-top:20px;display:flex-start}.test-button{width:50%;padding:5px 10px;margin:0 5px 5px 0;border-radius:5px;border-width:0;font-size:20px;line-height:1.5;color:#fff}.skupina{padding-top:20px;padding-bottom:20px;text-align:center}.skupina div{display:inline}.fotka{display:block}.fotka img{width:13%;-moz-transition:height 1s,width 1s;-webkit-transition:height 1s,width 1s;transition:height 1s,width 1s}#chart{max-width:100%;margin:1em auto}.small{max-width:500px;min-width:300px;height:300px;margin:1em auto;float:left}.small-legend{max-width:500px;min-width:350px;height:200px;float:left}</style>
<div class="row-main row-main--narrow">

<p class="text-bold text-lg">XXX</p>

<div class="test-big">

<h2>Otestujte, jaký typ voliče jste</h2>

<div class="skupina">

<div class="fotka"><img src="https://dev.datarozhlas.cz/profil-volice/images/nevolic.png"/></div>
<div class="fotka"><img src="https://dev.datarozhlas.cz/profil-volice/images/materialista.png"></div>
<div class="fotka"><img src="https://dev.datarozhlas.cz/profil-volice/images/liberal.png"/></div>
<div class="fotka"><img src="https://dev.datarozhlas.cz/profil-volice/images/tekavy.png"/></div>
<div class="fotka"><img src="https://dev.datarozhlas.cz/profil-volice/images/obranar.png"/></div>
<div class="fotka"><img src="https://dev.datarozhlas.cz/profil-volice/images/pasivni.png"/></div>
<div class="fotka"><img src="https://dev.datarozhlas.cz/profil-volice/images/krestan.png"></div>

</div>

<div class="test"></div>

</div>

<h2>Politické postoje</h2>
<div id="koho-voli" style="max-width: 100%"></div>

<div id="volebni-ucast" style="max-width: 100%"></div>

<h2>Demografie</h2>
<div style="max-width: 100%; overflow: hidden; display: block;">
    <div class="chart small-legend" id="demo-pohlavi"></div>
</div>

<div style="max-width: 100%; overflow: hidden; display: block;">
    <div class="chart small" id="demo-vek"></div>
    <div class="chart small" id="demo-vzdelani"></div>
</div>

<div style="max-width: 100%; overflow: hidden; display: block;">
    <div class="chart small" id="demo-prijem"></div>
    <div class="chart small" id="demo-pozice"></div>
</div>

<h2>Ostatní otázky</h2>

<p class="meta meta--right meta--big">
<!--[[ZPRAVY_SNOWFALL_AUTHORS:FOOTER]]-->
</p>
</div>
<!--[[ZPRAVY_SNOWFALL_RELATED:ARTICLES]]-->
</div>
</article>
</div>
</div>
</div><script>
if(!window.jQuery){alert("Could not find jQuery! The HTML must include jquery.js before opencpu.js!")}
(function($){var r_cors=false;var r_path=document.createElement('a');r_path.href="../R";function Session(loc,key,txt){this.loc=loc;this.key=key;this.txt=txt;this.output=txt.split(/\r\n|\r|\n/g);this.getKey=function(){return key;};this.getLoc=function(){return loc;};this.getFileURL=function(path){return this.getLoc()+"files/"+path;};this.getFile=function(path,success){var url=this.getFileURL(path);return $.get(url,success);};this.getObject=function(name,data,success){name=name||".val";if(name instanceof Function){success=name;name=".val";}
var url=this.getLoc()+"R/"+name+"/json";return $.get(url,data,success);};this.getStdout=function(success){var url=this.getLoc()+"stdout/text";return $.get(url,success);};this.getConsole=function(success){var url=this.getLoc()+"console/text";return $.get(url,success);};}
function Snippet(code){this.code=code||"NULL";this.getCode=function(){return code;};}
function Upload(file){if(file instanceof File){this.file=file;}else if(file instanceof FileList){this.file=file[0];}else if(file.files instanceof FileList){this.file=file.files[0];}else if(file.length>0&&file[0].files instanceof FileList){this.file=file[0].files[0];}else{throw'invalid new Upload(file). Argument file must be a HTML <input type="file"></input>';}
this.getFile=function(){return file;};}
function stringify(x){if(x instanceof Session){return x.getKey();}else if(x instanceof Snippet){return x.getCode();}else if(x instanceof Upload){return x.getFile();}else if(x instanceof File){return x;}else if(x instanceof FileList){return x[0];}else if(x&&x.files instanceof FileList){return x.files[0];}else if(x&&x.length&&x[0].files instanceof FileList){return x[0].files[0];}else{return JSON.stringify(x);}}
function r_fun_ajax(fun,settings,handler){if(!fun)throw"r_fun_call called without fun";settings=settings||{};handler=handler||function(){};settings.url=settings.url||(r_path.href+"/"+fun);settings.type=settings.type||"POST";settings.data=settings.data||{};settings.dataType=settings.dataType||"text";var jqxhr=$.ajax(settings).done(function(){var loc=jqxhr.getResponseHeader('Location')||console.log("Location response header missing.");var key=jqxhr.getResponseHeader('X-ocpu-session')||console.log("X-ocpu-session response header missing.");var txt=jqxhr.responseText;if(r_cors&&loc.match("^/[^/]")){loc=r_path.protocol+"//"+r_path.host+loc;}
handler(new Session(loc,key,txt));}).fail(function(){console.log("OpenCPU error HTTP "+jqxhr.status+"\n"+jqxhr.responseText);});return jqxhr;}
function r_fun_call_json(fun,args,handler){return r_fun_ajax(fun,{data:JSON.stringify(args||{}),contentType:'application/json'},handler);}
function r_fun_call_urlencoded(fun,args,handler){var data={};$.each(args,function(key,val){data[key]=stringify(val);});return r_fun_ajax(fun,{data:$.param(data)},handler);}
function r_fun_call_multipart(fun,args,handler){testhtml5();var formdata=new FormData();$.each(args,function(key,value){formdata.append(key,stringify(value));});return r_fun_ajax(fun,{data:formdata,cache:false,contentType:false,processData:false},handler);}
function r_fun_call(fun,args,handler){args=args||{};var hasfiles=false;var hascode=false;$.each(args,function(key,value){if(value instanceof File||value instanceof Upload||value instanceof FileList){hasfiles=true;}else if(value instanceof Snippet||value instanceof Session){hascode=true;}});if(hasfiles){return r_fun_call_multipart(fun,args,handler);}else if(hascode){return r_fun_call_urlencoded(fun,args,handler);}else{return r_fun_call_json(fun,args,handler);}}
function rpc(fun,args,handler){return r_fun_call(fun,args,function(session){session.getObject(function(data){if(handler)handler(data);}).fail(function(){console.log("Failed to get JSON response for "+session.getLoc());});});}
$.fn.rplot=function(fun,args,cb){var targetdiv=this;var myplot=initplot(targetdiv);myplot.setlocation();myplot.spinner.show();return r_fun_call(fun,args,function(tmp){myplot.setlocation(tmp.getLoc());if(cb)cb(tmp);}).always(function(){myplot.spinner.hide();});};function initplot(targetdiv){if(targetdiv.data("ocpuplot")){return targetdiv.data("ocpuplot");}
var ocpuplot=function(){var Location;var pngwidth;var pngheight;var plotdiv=$('<div />').attr({style:"width: 100%; height:100%; min-width: 100px; min-height: 100px; position:relative; background-repeat:no-repeat; background-size: 100% 100%;"}).appendTo(targetdiv).css("background-image","none");var spinner=$('<span />').attr({style:"position: absolute; top: 20px; left: 20px; z-index:1000; font-family: monospace;"}).text("loading...").appendTo(plotdiv);var pdf=$('<a />').attr({target:"_blank",style:"position: absolute; top: 10px; right: 10px; z-index:1000; text-decoration:underline; font-family: monospace;"}).text("pdf").appendTo(plotdiv);var svg=$('<a />').attr({target:"_blank",style:"position: absolute; top: 30px; right: 10px; z-index:1000; text-decoration:underline; font-family: monospace;"}).text("svg").appendTo(plotdiv);var png=$('<a />').attr({target:"_blank",style:"position: absolute; top: 50px; right: 10px; z-index:1000; text-decoration:underline; font-family: monospace;"}).text("png").appendTo(plotdiv);function updatepng(){if(!Location)return;pngwidth=plotdiv.width();pngheight=plotdiv.height();plotdiv.css("background-image","url("+Location+"graphics/last/png?width="+pngwidth+"&height="+pngheight+")");}
function setlocation(newloc){Location=newloc;if(!Location){pdf.hide();svg.hide();png.hide();plotdiv.css("background-image","");}else{pdf.attr("href",Location+"graphics/last/pdf?width=11.69&height=8.27&paper=a4r").show();svg.attr("href",Location+"graphics/last/svg?width=11&height=6").show();png.attr("href",Location+"graphics/last/png?width=800&height=600").show();updatepng();}}
var onresize=debounce(function(e){if(pngwidth==plotdiv.width()&&pngheight==plotdiv.height()){return;}
if(plotdiv.is(":visible")){updatepng();}},500);plotdiv.on("resize",onresize);$(window).on("resize",onresize);return{setlocation:setlocation,spinner:spinner};}();targetdiv.data("ocpuplot",ocpuplot);return ocpuplot;}
function debounce(func,wait,immediate){var result;var timeout=null;return function(){var context=this,args=arguments;var later=function(){timeout=null;if(!immediate)
result=func.apply(context,args);};var callNow=immediate&&!timeout;clearTimeout(timeout);timeout=setTimeout(later,wait);if(callNow)
result=func.apply(context,args);return result;};}
function testhtml5(){if(window.FormData===undefined){alert("Uploading of files requires HTML5. It looks like you are using an outdated browser that does not support this. Please install Firefox, Chrome or Internet Explorer 10+");throw"HTML5 required.";}}
window.ocpu=window.ocpu||{};var ocpu=window.ocpu;function seturl(newpath){if(!newpath.match("/R$")){alert("ERROR! Trying to set R url to: "+newpath+". Path to an OpenCPU R package must end with '/R'");}else{r_path=document.createElement('a');r_path.href=newpath;r_path.href=r_path.href;if(location.protocol!=r_path.protocol||location.host!=r_path.host){r_cors=true;if(!('withCredentials'in new XMLHttpRequest())){alert("This browser does not support CORS. Try using Firefox or Chrome.");}}
if(location.protocol=="https:"&&r_path.protocol!="https:"){alert("Page is hosted on HTTPS but using a (non-SSL) HTTP OpenCPU server. This is insecure and most browsers will not allow this.")}
if(r_cors){console.log("Setting path to CORS server "+r_path.href);}else{console.log("Setting path to local (non-CORS) server "+r_path.href);}
$.get(r_path.href,function(resdata){console.log("Path updated. Available objects/functions:\n"+resdata);}).fail(function(xhr,textStatus,errorThrown){alert("Connection to OpenCPU failed:\n"+textStatus+"\n"+xhr.responseText+"\n"+errorThrown);});}}
ocpu.call=r_fun_call;ocpu.rpc=rpc;ocpu.seturl=seturl;ocpu.Snippet=Snippet;ocpu.Upload=Upload;if(typeof console=="undefined"){this.console={log:function(){}};}}(jQuery));
var colors=['#EA614A','#20649B','#008836','#6B96CA','#A38456','#A87A93','#D19C95'];var cisloOtazky=1;var otazky=[["Zúčastnil(a) byste se voleb do Poslanecké sněmovny, kdyby se konaly nyní?","bar4","Určitě ano","Spíše ano","Spíše ne","Určitě ne"],["Považujete sám(a) sebe za věřícího člověka?","bar2","Ano","Ne"],["Kolik je vám let?","bar8","do 12 let","12-15 let","16-24 let","25-34 let","35-44 let","45-54 let","55-64 let","nad 65 let"],["Jaký je váš čistý měsíční příjem?","bar10","do 4 000 Kč","4 001 až 8 000 Kč","8 001 až 10 000 Kč","10 001 až 12 500 Kč","12 501 až 15 000 Kč","15 001 až 17 500 Kč","17 501 až 20 000 Kč","20 001 až 25 000 Kč","25 001 až 40 000 Kč","nad 40 000 Kč"],["Morálka dnešní společnosti mi připadá příliš uvolněná.","bar5","Určitě ano","Spíše ano","Ani ano ani ne","Spíše ne","Určitě ne"],["Jak jste spokojen(a) se společností, kde žijete?","bar9","1 (nejméně)","2","3","4","5 (středně)","6","7","8","9 (nejvíce)"],["V životě bych chtěl(a) především dosáhnout vysokého společenského postavení.","bar5","Určitě ano","Spíše ano","Ani ano ani ne","Spíše ne","Určitě ne"],["Jaké je vaše nejvyšší dosažené vzdělání?","bar7","Bez vzdělání","Základní","Vyučen/Střední bez maturity","Střední s maturitou nebo vyučen s maturitou","VOŠ","Bakalářské","Magisterské a vyšší"],["Užívat drogy je špatné.","bar5","Určitě ano","Spíše ano","Ani ano ani ne","Spíše ne","Určitě ne"],["Jste spokojení se svou životní úrovní?","bar9","1 (nejméně)","2","3","4","5 (středně)","6","7","8","9 (nejvíce)"],["Členství ČR v Evropské unii mně osobně přináší nové možnosti a příležitosti.","bar5","Určitě ano","Spíše ano","Ani ano ani ne","Spíše ne","Určitě ne"],["Zajímám se o mezinárodní události.","bar5","Určitě ano","Spíše ano","Ani ano ani ne","Spíše ne","Určitě ne"],["S vývojem, který proběhl v ČR od listopadu 1989, jsem spokojen(a).","bar5","Určitě ano","Spíše ano","Ani ano ani ne","Spíše ne","Určitě ne"],["Současná politika se řídí morálními zásadami.","bar5","Určitě ano","Spíše ano","Ani ano ani ne","Spíše ne","Určitě ne"],["EU by měla uprchlíky okamžitě vracet do státu, ze kterého přišli","bar4","Určitě ano","Spíše ano","Spíše ne","Určitě ne"],["Téměř každý den sleduji vývoj na naší politické scéně.","bar5","Určitě ano","Spíše ano","Ani ano ani ne","Spíše ne","Určitě ne"],["Úpadek naší společnosti může být zastaven pouze prosazením tvrdších zákonů.","bar5","Určitě ano","Spíše ano","Ani ano ani ne","Spíše ne","Určitě ne"],["Křesťanské zásady mají trvalou platnost.","bar5","Určitě ano","Spíše ano","Ani ano ani ne","Spíše ne","Určitě ne"],["Stát by měl zabezpečit přijatelnou životní úroveň pro každého.","bar5","Určitě ano","Spíše ano","Ani ano ani ne","Spíše ne","Určitě ne"],["Trh by měl být omezovaný zásahem státu.","bar5","Určitě ano","Spíše ano","Ani ano ani ne","Spíše ne","Určitě ne"],];var odpovedi=[0,1,1,54,4,3,5,3,8,3,2,1,3,5,1,1,4,4,1,1,4];var segmenty=[["Levicový (ne)volič",0.15],["Materialista",0.2],["Městský liberál",0.25],["Mladý těkavý",0.05],["Obranář",0],["Politicky pasivní",0.15],["Skutečný křesťan",0.2]];var indexSkupiny=[];var indexOstatnichSkupin=[];var indexStrany=[["ANO",37,218.7,48.8,49.7,153,0.1,121.6],["ČSSD",122.7,163.1,40.4,72.5,127.2,0,126.2],["KDU-ČSL",29.3,50.4,244.7,22.4,16.6,0,364.4],["KSČM",157.4,86.2,0,32.4,291.1,0,92.4],["ODS",3.5,181.3,327,47.5,62.1,12.5,109],["Piráti",39,53.2,403.7,180.4,71,38.3,57.6],["SPD",46.7,113.2,21,54.7,334.6,0,86.9],["TOP 09",61.3,151.5,320,82,34.6,12.9,98]];var strany=indexStrany.map(function(d){return d[0];});var volebniUcast=[["určitě ano",14.6,56.1,70.8,15.6,65.1,1.6,58.4,40.5],["spíše ano",19.9,33,20.4,21.4,24.1,0.6,22.3,20.8],["spíše ne",17.3,10.4,5.3,18.8,4.6,1.8,9.3,9.6],["určitě ne",47.6,0.3,3.3,43.7,4.7,95.7,8.7,28.4],["neuvedeno",0.6,0.2,0.1,0.5,1.5,0.3,1.2,0.6]];var odpovediUcast=volebniUcast.map(function(d){return d[0];});var pohlavi=[["Muži",32.7,64.2,56.4,44.4,55.5,54.3,35.6,49.4],["Ženy",67.3,35.8,43.6,55.6,44.5,45.7,64.4,50.6]];var odpovediPohlavi=pohlavi.map(function(d){return d[0];});var vek=[["12-19 let",1.2,0.1,1.1,22.0,0.3,1.1,0.3,3.2],["20-29 let",7.0,15.0,18.7,39.8,5.5,18.2,9.8,15.4],["30-39 let",16.3,25.1,27.6,19.8,8.6,24.8,17.5,19.8],["40-49 let",19.8,25.9,25.6,7.5,14.4,22.2,17.9,19.3],["50-59 let",20.4,18.2,12.1,1.7,24.8,11.4,18.3,16.0],["60-69 let",21.7,11.9,12.0,5.8,28.8,12.4,22.3,16.7],["70-79 let",13.6,3.9,3.0,3.5,17.6,9.9,13.8,9.6]];var odpovediVek=vek.map(function(d){return d[0];});var vzdelani=[["základní",26.9,5.1,3.1,36.6,15.7,17.0,10.9,15.9],["vyučen/bez maturity",48.0,38.4,9.7,33.0,35.9,40.4,30.6,35.1],["s maturitou",23.8,39.9,33.1,25.9,39.0,34.7,41.3,34.7],["vysokoškolské",1.3,16.6,54.1,4.5,9.4,7.9,17.1,14.2]];var odpovediVzdelani=vzdelani.map(function(d){return d[0];});var prijem=[["bez příjmu",1.1,0.1,1.8,19.9,1.3,0.5,2.7,3.4],["do 4 tisíc",1.2,0,1.6,9.6,0.1,0.5,0.6,1.6],["do 10 tisíc",23.1,2.9,7.7,17.5,12.2,4.1,10.8,10.7],["do 15 tisíc",34.5,15.4,12.3,18.4,36.6,17.9,33,24.5],["do 20 tisíc",12.4,21.4,19.8,9.9,17.4,19.7,18.1,17.2],["do 30 tisíc",5,32.1,33.7,3.6,12.3,19.8,12.6,21.1],["nad 30 tisíc",1,13.4,14,0,3.9,5.6,2.2,5.8],["neuvedeno",21.7,14.7,10.3,21.2,16.1,31.8,19.9,19.6]];var odpovediPrijem=prijem.map(function(d){return d[0];});var pozice=[["zaměstn./OSVČ",44.3,70,61.7,39,40.5,63.8,49.1,53.4],["podnikatel",1.7,10.7,12.1,2.6,4.2,5.6,3,5.6],["nezaměstnaný",5.9,0.9,2.2,7.6,2,4.1,2.3,3.4],["studující",1,0.8,6.6,27.8,1.4,1.2,2,4.9],["v domácnosti",8.8,2.6,6.6,10.2,2.6,5,7,5.8],["důchodce",35.9,14.1,8.5,10.6,46.2,19.3,34.9,25.0],["jiné/neuvedeno",2.4,0.9,2.4,2.3,3,1,1.7,1.9]];var odpovediPozice=pozice.map(function(d){return d[0];});var verici=[["ano",22.3,28.1,98.5,30.1,2.2,16.5,10.1],["ne",75.1,70.4,0.5,68.6,96.9,81.6,89.0]]
var polistopadovyVyvoj=[["určitě ano",5.0,1.7,5.8,9.7,5.7,2.8,4.8],["spíše ano",21.0,6.2,25.5,32.1,26.7,7.1,23.4],["ani ano ani ne",36.3,15.1,35.3,37.7,37.4,38.7,36.0],["spíše ne",20.2,30.2,20.9,14.8,18.6,22.3,21.0],["určitě ne",14.3,46.0,10.7,4.6,9.0,27.4,12.2],["neuvedeno",3.2,0.9,1.9,1.1,2.6,1.7,2.7]]
var tvrdsiZakony=[["určitě ano",9.9,38.7,23.3,9.3,18.6,23.1,19.5],["spíše ano",19.4,28.9,31.0,15.7,36.0,30.5,23.8],["ani ano ani ne",38.1,22.2,29.7,30.0,31.2,27.3,36.8],["spíše ne",19.3,6.0,10.6,31.4,9.4,10.5,12.8],["určitě ne",10.2,2.7,2.4,12.8,2.3,5.3,2.6],["neuvedeno",3.2,1.5,3.0,0.7,2.4,3.4,4.5]]
var clenstviNATO=[["určitě ano",10.3,5.6,12.1,31.1,10.2,3.6,9.3],["spíše ano",18.3,17.3,28.4,38.6,33.8,12.6,19.1],["ani ano ani ne",37.4,31.8,38.8,24.3,36.8,45.4,47.9],["spíše ne",21.5,17.4,12.8,3.9,12.9,18.2,15.5],["určitě ne",9.9,25.8,5.6,0.7,3.8,16.8,3.1],["neuvedeno",2.6,2.1,2.4,1.5,2.5,3.4,5.2]]
var volbyOvlivni=[["určitě ano",6.4,15.9,17.4,19.9,16.2,4.6,10.1],["spíše ano",13.3,21.2,35.7,42.3,33.2,15.8,20.2],["ani ano ani ne",32.1,25.5,26.5,21.5,31.8,30.9,35.9],["spíše ne",26.8,21.9,12.2,11.4,11.7,24.7,18.0],["určitě ne",17.6,14.8,5.0,2.9,4.2,20.0,11.1],["neuvedeno",3.7,0.6,3.1,2.0,2.9,3.9,4.6]]
var konzumniSpolecnost=[["určitě ano",13.6,49.6,26.9,26.8,19.2,30.2,15.5],["spíše ano",24.5,34.3,42.1,48.5,44.4,30.0,25.8],["ani ano ani ne",34.2,14.9,25.6,14.8,27.4,29.4,36.4],["spíše ne",17.9,1.0,2.5,7.5,4.2,4.9,12.1],["určitě ne",7.3,0.1,0.1,0.3,1.3,2.7,4.7],["neuvedeno",2.5,0.2,2.8,2.1,3.5,2.8,5.6]]
var drogyJsouZlo=[["určitě ano",33.1,87.2,77.4,65.3,60.4,72.4,47.4],["spíše ano",16.2,7.8,7.6,19.4,17.6,6.3,15.9],["ani ano ani ne",23.2,2.7,8.9,9.6,13.6,11.8,18.9],["spíše ne",14.1,0.8,2.5,1.5,3.3,2.7,8.0],["určitě ne",9.9,0.7,1.2,2.2,1.4,3.5,5.5],["neuvedeno",3.5,0.8,2.3,2.1,3.6,3.1,4.3]]
var clenstviEU=[["určitě ano",7.9,1.5,6.9,19.1,7.2,3.0,4.9],["spíše ano",13.9,5.5,18.3,24.2,21.1,7.4,14.7],["ani ano ani ne",31.0,18.3,38.4,31.7,40.1,31.5,41.1],["spíše ne",24.6,21.0,18.8,19.3,20.1,25.6,19.8],["určitě ne",19.2,52.5,14.8,4.5,8.9,29.2,12.5],["neuvedeno",3.5,1.2,2.8,1.2,2.6,3.3,7.0]]
var uprchlikyVracet=[["určitě ano",48.3,79.9,41.2,19.4,55.9,70.1,45.0],["spíše ano",31.4,15.5,38.6,31.7,29.6,23.0,35.1],["spíše ne",15.3,3.1,16.3,31.7,11.9,4.1,14.6],["určitě ne",4.1,0.3,3.6,16.3,2.2,2.6,4.4],["neuvedeno",0.9,1.2,0.4,0.8,0.4,0.1,0.8]]
function novaOtazka(){var otazka=otazky[cisloOtazky-1];var progres=(cisloOtazky-1)/20*100+'%';var barvy=[];if(otazka[1]=='bar2'){barvy=['#dfc27d','#80cdc1'];barvy.reverse();}else if(otazka[1]=='bar4'){barvy=['#a6611a','#dfc27d','#80cdc1','#018571'];barvy.reverse();}else if(otazka[1]=='bar5'){barvy=['#a6611a','#dfc27d','#cccccc','#80cdc1','#018571'];barvy.reverse();}else if(otazka[1]=='bar7'){barvy=['#8c510a','#d8b365','#f6e8c3','#cccccc','#c7eae5','#5ab4ac','#01665e'];barvy.reverse();}else if(otazka[1]=='bar8'){barvy=['#8c510a','#bf812d','#dfc27d','#f6e8c3','#c7eae5','#80cdc1','#35978f','#01665e'];barvy.reverse();}else if(otazka[1]=='bar9'){barvy=['#8c510a','#bf812d','#dfc27d','#f6e8c3','#cccccc','#c7eae5','#80cdc1','#35978f','#01665e'];barvy.reverse();}else if(otazka[1]=='bar10'){barvy=['#543005','#8c510a','#bf812d','#dfc27d','#f6e8c3','#c7eae5','#80cdc1','#35978f','#01665e','#003c30',];barvy.reverse();}
var text='<div class="otazka">';text+='<p>Otázka '+cisloOtazky+'</p>';text+='<div class="progresbar"></div>';text+='<h3>'+otazka[0]+'</h3>';text+='<div class="buttons">';for(var i=2;i<otazka.length;i++){text+='<button class="test-button" type="button" value="'+parseInt(i-1)+'" style="background-color:'+barvy[i-2]+'">'+otazka[i]+'</button>';}
text+='</div>';document.getElementsByClassName("test")[0].innerHTML=text;$('.progresbar').css('width',progres);$('.test-button').click(function(event){event.preventDefault();if(cisloOtazky==3){var odpoved=$(this)[0].value;if(odpoved=='1'){odpovedi[cisloOtazky-1]=12;}else if(odpoved=='2'){odpovedi[cisloOtazky-1]=14;}else if(odpoved=='3'){odpovedi[cisloOtazky-1]=20;}else if(odpoved=='4'){odpovedi[cisloOtazky-1]=30;}else if(odpoved=='5'){odpovedi[cisloOtazky-1]=40;}else if(odpoved=='6'){odpovedi[cisloOtazky-1]=50;}else if(odpoved=='7'){odpovedi[cisloOtazky-1]=60;}else if(odpoved=='8'){odpovedi[cisloOtazky-1]=65;}}else{odpovedi[cisloOtazky-1]=parseInt($(this)[0].value);}
var postInput=JSON.stringify({"arr":"["+String(odpovedi)+"]"});$.ajax({type:"POST",url:"http://52.59.162.193/ocpu/library/medianModel/R/spocti/json",data:postInput,contentType:'application/json',success:function(data){var postOutput=JSON.parse(data[0]);console.log(postOutput);prepocitejIndexSkupiny();zmenVelikosti();prekresliGrafy();cisloOtazky++;novaOtazka();}});});return true;}
function zmenVelikosti(){var img=document.querySelectorAll(".skupina .fotka img")[0];img.style.width=90*segmenty[0][1]+'%';var img=document.querySelectorAll(".skupina .fotka img")[1];img.style.width=90*segmenty[1][1]+'%';var img=document.querySelectorAll(".skupina .fotka img")[2];img.style.width=90*segmenty[2][1]+'%';var img=document.querySelectorAll(".skupina .fotka img")[3];img.style.width=90*segmenty[3][1]+'%';var img=document.querySelectorAll(".skupina .fotka img")[4];img.style.width=90*segmenty[4][1]+'%';var img=document.querySelectorAll(".skupina .fotka img")[5];img.style.width=90*segmenty[5][1]+'%';var img=document.querySelectorAll(".skupina .fotka img")[6];img.style.width=90*segmenty[6][1]+'%';return true;}
function prepocitejIndexSkupiny(){var poleSegmentu;poleSegmentu=segmenty.map(function(d){return d[1];});indexSkupiny=poleSegmentu.indexOf(Math.max(...poleSegmentu));indexOstatnichSkupin=[0,1,2,3,4,5,6];indexOstatnichSkupin.splice(indexOstatnichSkupin.indexOf(indexSkupiny),1);}
function prekresliGrafy(){Highcharts.chart('koho-voli',{chart:{type:'column'},title:{text:'Koho volí vaše skupina?'},xAxis:{categories:strany},yAxis:{title:{text:'Index (průměrný volič = 100)'},labels:{format:'{value}'}},tooltip:{formatter:function(){if(this.y==0){return'Pravděpodobnost volby '+this.x+' <b>se blíží nule</b>';}else if(this.y>=100){return'Pravděpodobnost volby '+this.x+' je <b>'+Math.round(this.y/10,2)/10+'× vyšší ▲</b> než u průměrného voliče';}else if(this.y<100){return'Pravděpodobnost volby '+this.x+' je <b>'+Math.round(1/this.y*1000,2)/10+'× nižší ▼</b> než u průměrného voliče';}},crosshairs:true},exporting:{enabled:false},credits:{href:'',text:'Zdroj: Median'},plotOptions:{},series:[{name:segmenty[indexSkupiny][0],data:indexStrany.map(function(d){return d[indexSkupiny+1];}),color:colors[indexSkupiny]},{name:segmenty[indexOstatnichSkupin[0]][0],data:indexStrany.map(function(d){return d[indexOstatnichSkupin[0]+1];}),color:colors[indexOstatnichSkupin[0]],visible:false},{name:segmenty[indexOstatnichSkupin[1]][0],data:indexStrany.map(function(d){return d[indexOstatnichSkupin[1]+1];}),color:colors[indexOstatnichSkupin[1]],visible:false},{name:segmenty[indexOstatnichSkupin[2]][0],data:indexStrany.map(function(d){return d[indexOstatnichSkupin[2]+1];}),color:colors[indexOstatnichSkupin[2]],visible:false},{name:segmenty[indexOstatnichSkupin[3]][0],data:indexStrany.map(function(d){return d[indexOstatnichSkupin[3]+1];}),color:colors[indexOstatnichSkupin[3]],visible:false},{name:segmenty[indexOstatnichSkupin[4]][0],data:indexStrany.map(function(d){return d[indexOstatnichSkupin[4]+1];}),color:colors[indexOstatnichSkupin[4]],visible:false},{name:segmenty[indexOstatnichSkupin[5]][0],data:indexStrany.map(function(d){return d[indexOstatnichSkupin[5]+1];}),color:colors[indexOstatnichSkupin[5]],visible:false}]});Highcharts.chart('volebni-ucast',{chart:{type:'column'},title:{text:'Jak poctivě chodíte k volbám?'},xAxis:{categories:odpovediUcast},yAxis:{title:{text:'% odpovědí'},labels:{format:'{value} %'}},tooltip:{pointFormat:'{series.name}: {point.y}'+' %'+'<br/>',crosshairs:true},exporting:{enabled:false},credits:{enabled:false},plotOptions:{},series:[{name:segmenty[indexSkupiny][0],data:volebniUcast.map(function(d){return d[indexSkupiny+1];}),color:colors[indexSkupiny]},{name:segmenty[indexOstatnichSkupin[0]][0],data:volebniUcast.map(function(d){return d[indexOstatnichSkupin[0]+1];}),color:colors[indexOstatnichSkupin[0]],visible:false},{name:segmenty[indexOstatnichSkupin[1]][0],data:volebniUcast.map(function(d){return d[indexOstatnichSkupin[1]+1];}),color:colors[indexOstatnichSkupin[1]],visible:false},{name:segmenty[indexOstatnichSkupin[2]][0],data:volebniUcast.map(function(d){return d[indexOstatnichSkupin[2]+1];}),color:colors[indexOstatnichSkupin[2]],visible:false},{name:segmenty[indexOstatnichSkupin[3]][0],data:volebniUcast.map(function(d){return d[indexOstatnichSkupin[3]+1];}),color:colors[indexOstatnichSkupin[3]],visible:false},{name:segmenty[indexOstatnichSkupin[4]][0],data:volebniUcast.map(function(d){return d[indexOstatnichSkupin[4]+1];}),color:colors[indexOstatnichSkupin[4]],visible:false},{name:segmenty[indexOstatnichSkupin[5]][0],data:volebniUcast.map(function(d){return d[indexOstatnichSkupin[5]+1];}),color:colors[indexOstatnichSkupin[5]],visible:false},{name:'Celá populace',data:volebniUcast.map(function(d){return d[8];}),color:'#fff',borderWidth:1,borderColor:'#000'}]});Highcharts.chart('demo-pohlavi',{chart:{type:'column'},title:{text:'Pohlaví',align:'right',x:-30},xAxis:{categories:odpovediPohlavi},yAxis:{title:{text:''},labels:{format:'{value} %'}},tooltip:{pointFormat:'{series.name}: {point.y}'+' %'+'<br/>',crosshairs:true},exporting:{enabled:false},credits:{enabled:false},legend:{layout:'vertical',align:'left',verticalAlign:'middle',floating:false},plotOptions:{series:{events:{legendItemClick:function(event){var vek=$('#demo-vek').highcharts(),series=vek.get(this.options.id)
if(series){if(this.visible){series.hide();}else{series.show();}}
var vzdelani=$('#demo-vzdelani').highcharts(),series=vzdelani.get(this.options.id)
if(series){if(this.visible){series.hide();}else{series.show();}}
var prijem=$('#demo-prijem').highcharts(),series=prijem.get(this.options.id)
if(series){if(this.visible){series.hide();}else{series.show();}}
var pozice=$('#demo-pozice').highcharts(),series=pozice.get(this.options.id)
if(series){if(this.visible){series.hide();}else{series.show();}}}}}},series:[{id:'demo1',name:segmenty[indexSkupiny][0],data:pohlavi.map(function(d){return d[indexSkupiny+1];}),color:colors[indexSkupiny]},{id:'demo2',name:segmenty[indexOstatnichSkupin[0]][0],data:pohlavi.map(function(d){return d[indexOstatnichSkupin[0]+1];}),color:colors[indexOstatnichSkupin[0]],visible:false},{id:'demo3',name:segmenty[indexOstatnichSkupin[1]][0],data:pohlavi.map(function(d){return d[indexOstatnichSkupin[1]+1];}),color:colors[indexOstatnichSkupin[1]],visible:false},{id:'demo4',name:segmenty[indexOstatnichSkupin[2]][0],data:pohlavi.map(function(d){return d[indexOstatnichSkupin[2]+1];}),color:colors[indexOstatnichSkupin[2]],visible:false},{id:'demo5',name:segmenty[indexOstatnichSkupin[3]][0],data:pohlavi.map(function(d){return d[indexOstatnichSkupin[3]+1];}),color:colors[indexOstatnichSkupin[3]],visible:false},{id:'demo6',name:segmenty[indexOstatnichSkupin[4]][0],data:pohlavi.map(function(d){return d[indexOstatnichSkupin[4]+1];}),color:colors[indexOstatnichSkupin[4]],visible:false},{id:'demo7',name:segmenty[indexOstatnichSkupin[5]][0],data:pohlavi.map(function(d){return d[indexOstatnichSkupin[5]+1];}),color:colors[indexOstatnichSkupin[5]],visible:false},{id:'demo8',name:'Celá populace',data:pohlavi.map(function(d){return d[8];}),color:'#fff',borderWidth:1,borderColor:'#000'}]});Highcharts.chart('demo-vek',{chart:{type:'column',marginBottom:100},title:{text:'Věk'},xAxis:{categories:odpovediVek},yAxis:{title:{text:''},labels:{format:'{value} %'}},tooltip:{pointFormat:'{series.name}: {point.y}'+' %'+'<br/>',crosshairs:true},exporting:{enabled:false},credits:{enabled:false},legend:{enabled:false},series:[{id:'demo1',name:segmenty[indexSkupiny][0],data:vek.map(function(d){return d[indexSkupiny+1];}),color:colors[indexSkupiny]},{id:'demo2',name:segmenty[indexOstatnichSkupin[0]][0],data:vek.map(function(d){return d[indexOstatnichSkupin[0]+1];}),color:colors[indexOstatnichSkupin[0]],visible:false},{id:'demo3',name:segmenty[indexOstatnichSkupin[1]][0],data:vek.map(function(d){return d[indexOstatnichSkupin[1]+1];}),color:colors[indexOstatnichSkupin[1]],visible:false},{id:'demo4',name:segmenty[indexOstatnichSkupin[2]][0],data:vek.map(function(d){return d[indexOstatnichSkupin[2]+1];}),color:colors[indexOstatnichSkupin[2]],visible:false},{id:'demo5',name:segmenty[indexOstatnichSkupin[3]][0],data:vek.map(function(d){return d[indexOstatnichSkupin[3]+1];}),color:colors[indexOstatnichSkupin[3]],visible:false},{id:'demo6',name:segmenty[indexOstatnichSkupin[4]][0],data:vek.map(function(d){return d[indexOstatnichSkupin[4]+1];}),color:colors[indexOstatnichSkupin[4]],visible:false},{id:'demo7',name:segmenty[indexOstatnichSkupin[5]][0],data:vek.map(function(d){return d[indexOstatnichSkupin[5]+1];}),color:colors[indexOstatnichSkupin[5]],visible:false},{id:'demo8',name:'Celá populace',data:vek.map(function(d){return d[8];}),color:'#fff',borderWidth:1,borderColor:'#000'}]});Highcharts.chart('demo-vzdelani',{chart:{type:'column',marginBottom:100},title:{text:'Vzdělání'},xAxis:{categories:odpovediVzdelani},yAxis:{title:{text:''},labels:{format:'{value} %'}},tooltip:{pointFormat:'{series.name}: {point.y}'+' %'+'<br/>',crosshairs:true},exporting:{enabled:false},credits:{enabled:false},legend:{enabled:false},series:[{id:'demo1',name:segmenty[indexSkupiny][0],data:vzdelani.map(function(d){return d[indexSkupiny+1];}),color:colors[indexSkupiny]},{id:'demo2',name:segmenty[indexOstatnichSkupin[0]][0],data:vzdelani.map(function(d){return d[indexOstatnichSkupin[0]+1];}),color:colors[indexOstatnichSkupin[0]],visible:false},{id:'demo3',name:segmenty[indexOstatnichSkupin[1]][0],data:vzdelani.map(function(d){return d[indexOstatnichSkupin[1]+1];}),color:colors[indexOstatnichSkupin[1]],visible:false},{id:'demo4',name:segmenty[indexOstatnichSkupin[2]][0],data:vzdelani.map(function(d){return d[indexOstatnichSkupin[2]+1];}),color:colors[indexOstatnichSkupin[2]],visible:false},{id:'demo5',name:segmenty[indexOstatnichSkupin[3]][0],data:vzdelani.map(function(d){return d[indexOstatnichSkupin[3]+1];}),color:colors[indexOstatnichSkupin[3]],visible:false},{id:'demo6',name:segmenty[indexOstatnichSkupin[4]][0],data:vzdelani.map(function(d){return d[indexOstatnichSkupin[4]+1];}),color:colors[indexOstatnichSkupin[4]],visible:false},{id:'demo7',name:segmenty[indexOstatnichSkupin[5]][0],data:vzdelani.map(function(d){return d[indexOstatnichSkupin[5]+1];}),color:colors[indexOstatnichSkupin[5]],visible:false},{id:'demo8',name:'Celá populace',data:vzdelani.map(function(d){return d[8];}),color:'#fff',borderWidth:1,borderColor:'#000'}]});Highcharts.chart('demo-prijem',{chart:{type:'column',marginBottom:100},title:{text:'Příjem'},xAxis:{categories:odpovediPrijem},yAxis:{title:{text:''},labels:{format:'{value} %'}},tooltip:{pointFormat:'{series.name}: {point.y}'+' %'+'<br/>',crosshairs:true},exporting:{enabled:false},credits:{enabled:false},legend:{enabled:false},series:[{id:'demo1',name:segmenty[indexSkupiny][0],data:prijem.map(function(d){return d[indexSkupiny+1];}),color:colors[indexSkupiny]},{id:'demo2',name:segmenty[indexOstatnichSkupin[0]][0],data:prijem.map(function(d){return d[indexOstatnichSkupin[0]+1];}),color:colors[indexOstatnichSkupin[0]],visible:false},{id:'demo3',name:segmenty[indexOstatnichSkupin[1]][0],data:prijem.map(function(d){return d[indexOstatnichSkupin[1]+1];}),color:colors[indexOstatnichSkupin[1]],visible:false},{id:'demo4',name:segmenty[indexOstatnichSkupin[2]][0],data:prijem.map(function(d){return d[indexOstatnichSkupin[2]+1];}),color:colors[indexOstatnichSkupin[2]],visible:false},{id:'demo5',name:segmenty[indexOstatnichSkupin[3]][0],data:prijem.map(function(d){return d[indexOstatnichSkupin[3]+1];}),color:colors[indexOstatnichSkupin[3]],visible:false},{id:'demo6',name:segmenty[indexOstatnichSkupin[4]][0],data:prijem.map(function(d){return d[indexOstatnichSkupin[4]+1];}),color:colors[indexOstatnichSkupin[4]],visible:false},{id:'demo7',name:segmenty[indexOstatnichSkupin[5]][0],data:prijem.map(function(d){return d[indexOstatnichSkupin[5]+1];}),color:colors[indexOstatnichSkupin[5]],visible:false},{id:'demo8',name:'Celá populace',data:prijem.map(function(d){return d[8];}),color:'#fff',borderWidth:1,borderColor:'#000'}]});Highcharts.chart('demo-pozice',{chart:{type:'column',marginBottom:100},title:{text:'Pracovní pozice'},xAxis:{categories:odpovediPozice},yAxis:{title:{text:''},labels:{format:'{value} %'}},tooltip:{pointFormat:'{series.name}: {point.y}'+' %'+'<br/>',crosshairs:true},exporting:{enabled:false},credits:{enabled:false},legend:{enabled:false},series:[{id:'demo1',name:segmenty[indexSkupiny][0],data:pozice.map(function(d){return d[indexSkupiny+1];}),color:colors[indexSkupiny]},{id:'demo2',name:segmenty[indexOstatnichSkupin[0]][0],data:pozice.map(function(d){return d[indexOstatnichSkupin[0]+1];}),color:colors[indexOstatnichSkupin[0]],visible:false},{id:'demo3',name:segmenty[indexOstatnichSkupin[1]][0],data:pozice.map(function(d){return d[indexOstatnichSkupin[1]+1];}),color:colors[indexOstatnichSkupin[1]],visible:false},{id:'demo4',name:segmenty[indexOstatnichSkupin[2]][0],data:pozice.map(function(d){return d[indexOstatnichSkupin[2]+1];}),color:colors[indexOstatnichSkupin[2]],visible:false},{id:'demo5',name:segmenty[indexOstatnichSkupin[3]][0],data:pozice.map(function(d){return d[indexOstatnichSkupin[3]+1];}),color:colors[indexOstatnichSkupin[3]],visible:false},{id:'demo6',name:segmenty[indexOstatnichSkupin[4]][0],data:pozice.map(function(d){return d[indexOstatnichSkupin[4]+1];}),color:colors[indexOstatnichSkupin[4]],visible:false},{id:'demo7',name:segmenty[indexOstatnichSkupin[5]][0],data:pozice.map(function(d){return d[indexOstatnichSkupin[5]+1];}),color:colors[indexOstatnichSkupin[5]],visible:false},{id:'demo8',name:'Celá populace',data:pozice.map(function(d){return d[8];}),color:'#fff',borderWidth:1,borderColor:'#000'}]});}
prepocitejIndexSkupiny();prekresliGrafy()
zmenVelikosti();novaOtazka();</script>
